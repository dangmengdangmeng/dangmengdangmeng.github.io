(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f561a612"],{1310:function(e,t,n){"use strict";n("7f7f");var i=n("d225"),s=n("b0b4"),a=function(){function e(){Object(i["a"])(this,e),this.instance=null,this.animate={LargeToNormal:"addLargeToNormal",Enlarge:"addEnlarge",Move:"addMove",Normal:"addNormal",RightToLeft:"addRightToLeft",LeftToRight:"addLeftToRight",Focus:"addFocus",FadeBlack:"addFadeBlack"}}return Object(s["a"])(e,[{key:"playAnimate",value:function(e,t){this.animate[e]&&this[this.animate[e]](t)}},{key:"addMove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.element,n=e.origin,i=e.duration,s=void 0===i?1:i,a=e.delay,r=void 0===a?0:a,o=e.targetX,l=void 0===o?"50%":o,c=e.targetY,u=void 0===c?"50%":c,h=e.callback;if(!t)return!1;var d=t.style.transform||"";this.setTransformOrigin(t,n),setTimeout((function(){t.style.transition="transform ".concat(s,"s linear ").concat(r,"s"),t.style.transform="".concat(d," translate(").concat(l,"px,").concat(u,"px)")}),0),setTimeout((function(){return h()}),this.getEndTime(e))}},{key:"addNormal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.element,n=e.origin,i=e.duration,s=void 0===i?1:i,a=e.delay,r=void 0===a?0:a,o=e.callback;if(!t)return!1;this.setTransformOrigin(t,n),setTimeout((function(){t.style.transition="transform ".concat(s,"s linear ").concat(r,"s"),t.style.transform="none"}),0),setTimeout((function(){return o()}),this.getEndTime(e))}},{key:"addEnlarge",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.element,n=e.origin,i=e.duration,s=void 0===i?1:i,a=e.delay,r=void 0===a?0:a,o=e.targetScale,l=void 0===o?1:o,c=e.callback;if(!t)return!1;this.setTransformOrigin(t,n),setTimeout((function(){t.style.transition="transform ".concat(s,"s linear ").concat(r,"s"),t.style.transform="scale(".concat(l,")")}),0),setTimeout((function(){return c()}),this.getEndTime(e))}},{key:"addLargeToNormal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.element,n=e.origin,i=e.duration,s=void 0===i?1:i,a=e.delay,r=void 0===a?0:a,o=e.currentScale,l=e.targetScale,c=e.callback;if(!t)return!1;this.setTransformOrigin(t,n),t.style.transform="scale(".concat(o,")"),setTimeout((function(){t.style.transition="transform ".concat(s,"s linear ").concat(r,"s"),t.style.transform="scale(".concat(l,")")}),0),setTimeout((function(){return c()}),this.getEndTime(e))}},{key:"addRightToLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.element,n=e.origin,i=void 0===n?"50% 50%":n,s=e.duration,a=void 0===s?1:s,r=e.delay,o=void 0===r?0:r,l=e.startX,c=e.targetX,u=e.callback;if(!t)return!1;this.setTransformOrigin(t,i);var h=t.style.transform||"";t.style.transform="".concat(h," translateX(").concat(l,"px)"),setTimeout((function(){t.style.transition="all ".concat(a,"s linear ").concat(o,"s"),t.style.transform="".concat(h," rotateY(180deg) translateX(").concat(c,"px)")}),0),setTimeout((function(){return u()}),this.getEndTime(e))}},{key:"addLeftToRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.element,n=e.origin,i=void 0===n?"50% 50%":n,s=e.duration,a=void 0===s?1:s,r=e.delay,o=void 0===r?0:r,l=e.startX,c=e.targetX,u=e.callback;if(!t)return!1;this.setTransformOrigin(t,i);var h=t.style.transform||"";t.style.transform="".concat(h," translateX(").concat(l,"px)"),setTimeout((function(){t.style.transition="all ".concat(a,"s linear ").concat(o,"s"),t.style.transform="".concat(h," rotateY(0) translateX(").concat(c,"px)")}),0),setTimeout((function(){return u()}),this.getEndTime(e))}},{key:"addFocus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.element,n=e.origin,i=void 0===n?"50% 50%":n,s=e.duration,a=void 0===s?1:s,r=e.delay,o=void 0===r?0:r,l=e.targetScale,c=e.callback;if(!t)return!1;this.setTransformOrigin(t,i);t.style.transform;setTimeout((function(){t.style.transition="all ".concat(a,"s linear ").concat(o,"s"),t.style.transform="scale(".concat(l,")")}),0),setTimeout((function(){return c()}),this.getEndTime(e))}},{key:"addFadeBlack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.element,n=e.duration,i=void 0===n?1:n,s=e.delay,a=void 0===s?0:s,r=e.callback;if(!t)return!1;setTimeout((function(){t.style.transition="all ".concat(i,"s linear ").concat(a,"s"),t.style.background="rgba(0, 0, 0, 1)"}),0),setTimeout((function(){return r()}),this.getEndTime(e))}},{key:"setTransformOrigin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&t&&(e.style.transformOrigin=t)}},{key:"getEndTime",value:function(e){var t=e.duration,n=void 0===t?0:t,i=e.delay,s=void 0===i?0:i,a=n+s;return 1e3*a}}],[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}]),e}();t["a"]=a.getInstance()},"1cd4":function(e,t,n){"use strict";n("6b54"),n("87b3"),n("2397");var i=n("d225"),s=n("b0b4"),a=n("4e2b"),r=n("308d"),o=n("6bb5"),l=n("e955"),c=(n("7f7f"),function(){function e(){Object(i["a"])(this,e),this.gl=null,this.renderer=null,this.assetManager=null,this.offset=null,this.bounds=null,this.timeKeeper=null,this.DEMO_NAME=(new Date).valueOf(),this.canvas=null,this.curSkin="瘸腿",this.curAction="idle",this.skeleton=null,this.state=null,this.swordStatus=!1,this.loadCallback=null,this.filePath={"heroes.png":"/heroes.png","heroes2.png":"/heroes2.png","heroes.atlas":"/heroes.atlas","heroes.json":"/heroes.json"}}return Object(s["a"])(e,[{key:"load",value:function(e,t){this.canvas=e,this.spineDemos=t,this.init()}},{key:"init",value:function(){var e=this;this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,this.gl=this.canvas.ctx.gl,this.renderer=new spine.webgl.SceneRenderer(this.canvas,this.gl);var t=function(t){return new spine.webgl.GLTexture(e.gl,t)};this.assetManager=this.spineDemos.assetManager,this.assetManager.loadTexture(this.DEMO_NAME,t,this.filePath["heroes.png"]),this.assetManager.loadTexture(this.DEMO_NAME,t,this.filePath["heroes2.png"]),this.assetManager.loadText(this.DEMO_NAME,this.filePath["heroes.atlas"]),this.assetManager.loadJson(this.DEMO_NAME,this.filePath["heroes.json"]),this.timeKeeper=new spine.TimeKeeper}},{key:"loadingComplete",value:function(){var e=this,t=new spine.TextureAtlas(this.assetManager.get(this.DEMO_NAME,this.filePath["heroes.atlas"]),(function(t){return e.assetManager.get(e.DEMO_NAME,e.filePath[t])})),n=new spine.AtlasAttachmentLoader(t),i=new spine.SkeletonJson(n),s=i.readSkeletonData(this.assetManager.get(this.DEMO_NAME,this.filePath["heroes.json"]));this.skeleton=new spine.Skeleton(s),this.skeleton.setSkinByName(this.curSkin);var a=new spine.AnimationStateData(this.skeleton.data);this.state=new spine.AnimationState(a),this.changeAction(this.curAction,!0),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform(),this.offset=new spine.Vector2,this.bounds=new spine.Vector2,this.skeleton.getBounds(this.offset,this.bounds,[]),this.loadCallback&&this.loadCallback()}},{key:"setSkin",value:function(e){var t=this.skeleton.findSlot("item_near"),n=t.getAttachment();this.skeleton.setSkin(e),this.skeleton.setSlotsToSetupPose(),t.setAttachment(n)}},{key:"randomizeSkin",value:function(){var e,t=0;for(var n in this.skeleton.data.skins)"default"!==this.skeleton.data.skins[n].name&&Math.random()<1/++t&&(e=this.skeleton.data.skins[n]);this.setSkin(e)}},{key:"render",value:function(){this.timeKeeper.update();var e=this.timeKeeper.delta;this.renderer.camera.position.x=this.offset.x+1.5*this.bounds.x-125,this.renderer.camera.position.y=this.offset.y+this.bounds.y/2,this.renderer.camera.viewportWidth=3*this.bounds.x,this.renderer.camera.viewportHeight=1.2*this.bounds.y,this.renderer.resize(spine.webgl.ResizeMode.Fit),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.state.update(e),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform(),this.renderer.begin(),this.renderer.drawSkeleton(this.skeleton,!0),this.renderer.end()}},{key:"changeSkin",value:function(e){this.curSkin=e,this.skeleton&&(this.skeleton.setSkinByName(this.curSkin),this.skeleton.setSlotsToSetupPose())}},{key:"changeAction",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.curAction=e,this.state&&this.state.setAnimation(0,this.curAction,t,n)}},{key:"swingSword",value:function(e){e?(this.swordStatus=!this.swordStatus,this.state.setAnimation(5,this.swordStatus?"meleeSwing2":"meleeSwing1",!1,0)):this.state.setAnimation(5,"empty",!1,0)}}]),e}()),u=c;function h(e){var t=d();return function(){var n,i=Object(o["a"])(e);if(t){var s=Object(o["a"])(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Object(r["a"])(this,n)}}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var f=function(e){Object(a["a"])(n,e);var t=h(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this),e.isInit=!1,e.canvas=null,e.skinController=new u,e}return Object(s["a"])(n,[{key:"load",value:function(e,t){if(this.isInit)return!1;this.isInit=!0,this.drawCanvas=e,this.drawDemo=this.skinController,this.skinController.DEMO_NAME=(new Date).valueOf(),this.skinController.loadCallback=t}},{key:"changeSkin",value:function(e){this.skinController.changeSkin(e)}},{key:"changeAction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.skinController.changeAction(e,t,n)}}]),n}(l["a"]);t["a"]=f},"372e":function(e,t,n){"use strict";n("828f")},"57e7":function(e,t,n){"use strict";var i=n("5ca1"),s=n("c366")(!1),a=[].indexOf,r=!!a&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(r||!n("2f21")(a)),"Array",{indexOf:function(e){return r?a.apply(this,arguments)||0:s(this,e,arguments[1])}})},"5a0c":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"preload-resource"},[e._v("\n    "+e._s(e.progress)+"%\n")])},s=[],a=(n("6d67"),{name:"PreloadResource",props:{items:Array},data:function(){return{resources:[],resourceCount:0,progress:0,loadFinished:!1}},computed:{resourceNum:function(){return this.resources.length}},watch:{loadFinished:function(e){e&&this.$emit("finished")},progress:function(e){e>100&&(this.progress=100)}},mounted:function(){var e=this;this.items&&this.items.length>0?(this.items.map((function(t){e.resources.push({url:t.url,type:t.type})})),this.loadResource()):(this.progress=100,this.loadFinished=!0)},methods:{loadResource:function(){var e=this;this.resources.map((function(t){"img"===t.type&&e.loadImage(t.url)}))},loadImage:function(e){var t=this,n=new Image;n.src=e,n.onload=function(){t.resourceCount++,t.progress=(t.resourceCount/t.resourceNum*100).toFixed(0),t.resourceNum===t.resourceCount&&(t.progress=100,setTimeout((function(){t.loadFinished=!0}),1e3))}}}}),r=a,o=(n("77d2"),n("2877")),l=Object(o["a"])(r,i,s,!1,null,"abee1134",null);t["a"]=l.exports},"6a62":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"end-animate"},[e._v("\n    播放结束\n")])},s=[],a={name:"EndPage"},r=a,o=(n("372e"),n("2877")),l=Object(o["a"])(r,i,s,!1,null,"9d278ba0",null);t["a"]=l.exports},"77d2":function(e,t,n){"use strict";n("a371")},"7f7f":function(e,t,n){var i=n("86cc").f,s=Function.prototype,a=/^\s*function ([^ (]*)/,r="name";r in s||n("9e1e")&&i(s,r,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},"828f":function(e,t,n){},a371:function(e,t,n){},bd86:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("85f2"),s=n.n(i);function a(e,t,n){return t in e?s()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},e955:function(e,t,n){"use strict";n("57e7");var i=n("d225"),s=n("b0b4"),a=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i["a"])(this,e),this.spineDemos={},this.fps=20,this.loopTimer=null,this.drawCanvas=null,this.drawDemo=null,this.startTimer=null,this.config=n,this.loadSpine().then((function(){return t.initParams()})),this.listenError()}return Object(s["a"])(e,[{key:"initParams",value:function(){this.spineDemos={HOVER_COLOR_INNER:new spine.Color(.478,0,0,.25),HOVER_COLOR_OUTER:new spine.Color(1,1,1,1),NON_HOVER_COLOR_INNER:new spine.Color(.478,0,0,.5),NON_HOVER_COLOR_OUTER:new spine.Color(1,0,0,.8),assetManager:new spine.SharedAssetManager("http://sandbox-iyuyi-public-new.oss-cn-beijing.aliyuncs.com/files/spine"),demos:[],loopRunning:!1,canvases:[]},this.startDraw()}},{key:"startDraw",value:function(){var e=this;this.drawCanvas&&this.drawDemo?(clearInterval(this.startTimer),this.startTimer=null,this.createCanvases(1),this.loop(),this.addDemo(this.drawDemo,this.drawCanvas)):this.startTimer||(this.startTimer=setInterval((function(){e.drawCanvas&&e.startDraw()}),100))}},{key:"listenError",value:function(){window.onerror=function(e,t,n,i,s){var a=e.toLowerCase(),r="script error";throw a.indexOf(r)>-1?"Script Error: See Browser Console for Detail":["Message: "+e,"URL: "+t,"Line: "+n,"Column: "+i,"Error object: "+JSON.stringify(s)].join(" - ")}}},{key:"loadSpine",value:function(){return new Promise((function(e,t){e()}))}},{key:"renderDemo",value:function(e){var t=e.canvas,n=void 0===t?{}:t,i=e.visible,s=e.placeholder;this.spineDemos.assetManager.isLoadingComplete(e.DEMO_NAME)?(e.loaded||(e.loadingComplete(),e.loaded=!0),i&&(n.parentElement!==s&&s.appendChild(n),e.render(),e.loadingScreen.draw(!0))):i&&(n.parentElement!==s&&s.appendChild(n),e.loadingScreen.draw())}},{key:"checkElementVisible",value:function(e){var t=e.placeholder.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,i=window.innerWidth||document.documentElement.clientWidth,s=t.top<=1.1*n&&t.top+t.height>=-.1*n,a=t.left<=1.1*i&&t.left+t.width>=-.1*i;e.visible=s&&a}},{key:"createCanvases",value:function(e){for(var t=0;t<e;t++){var n=document.createElement("canvas");n.width=1,n.height=1,n.ctx=new spine.webgl.ManagedWebGLRenderingContext(n,{alpha:!0}),n.id="canvas-"+t+this.drawDemo.DEMO_NAME,this.spineDemos.canvases.push(n)}}},{key:"loop",value:function(){for(var e=this,t=this.spineDemos.demos,n=0;n<t.length;n++){var i=t[n];this.checkElementVisible(i),this.renderDemo(i)}this.loopTimer||(this.loopTimer=setInterval((function(){e.loop()}),1e3/this.fps))}},{key:"addDemo",value:function(e,t){var n=this.spineDemos.canvases[this.spineDemos.demos.length%this.spineDemos.canvases.length];e.load(n,this.spineDemos),e.placeholder=t,e.canvas=n,e.visible=!1;var i=new spine.webgl.SceneRenderer(n,n.ctx.gl);e.loadingScreen=new spine.webgl.LoadingScreen(i),this.spineDemos.demos.push(e)}}]),e}();t["a"]=a}}]);