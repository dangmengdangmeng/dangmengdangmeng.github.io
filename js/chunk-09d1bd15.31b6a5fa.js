(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09d1bd15"],{"121d":function(t,e,a){},2366:function(t,e){for(var a=[],n=0;n<256;++n)a[n]=(n+256).toString(16).substr(1);function i(t,e){var n=e||0,i=a;return[i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]]].join("")}t.exports=i},"3f03":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"script"},[a("div",{staticClass:"item"},[a("div",[t._v("背景图：")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.backgroundImage,expression:"formData.backgroundImage"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"backgroundImage",e.target.multiple?a:a[0])}}},t._l(t.backgroundImages,(function(e){return a("option",{domProps:{value:e.value}},[t._v(t._s(e.label))])})),0)]),t.formData.backgroundImage?a("img",{staticClass:"background-image",attrs:{src:t.formData.backgroundImage,alt:"img"}}):t._e(),t._l(t.formData.items,(function(e,n){return a("script-cell",{key:n,attrs:{models:t.models,index:n,"model-position":t.modelPosition},on:{change:function(e){return t.getCellInfo(n,e)},delete:function(e){return t.delCell(n)}}})})),a("div",{staticClass:"btn cell-btn",on:{click:t.addCell}},[t._v("添加元素")]),a("div",{staticClass:"item-area"},[t._l(t.formData.animations,(function(e,n){return[a("div",{key:n,staticClass:"item"},[a("div",{staticClass:"sub-item"},[a("div",[t._v("动画：")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"animation.value"}],on:{change:[function(a){var n=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"value",a.target.multiple?n:n[0])},function(e){return t.changeAnimation(n)}]}},t._l(t.animations,(function(e){return a("option",{domProps:{value:e.value}},[t._v(t._s(e.label))])})),0)]),a("div",{staticClass:"sub-item"},[a("div",[t._v("目标：")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.targetId,expression:"animation.targetId"}],attrs:{name:"1___"+n},on:{change:function(a){var n=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"targetId",a.target.multiple?n:n[0])}}},t._l(t.models,(function(e){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.label))])})),0)]),a("div",{staticClass:"del-icon",on:{click:function(e){return t.delAnimation(n)}}},[t._v("x")])])]})),a("div",{staticClass:"btn",on:{click:t.addAnimation}},[t._v("添加动画")])],2),a("div",{staticClass:"item"},[a("div",[t._v("结束动画：")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.endAnimation.value,expression:"formData.endAnimation.value"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData.endAnimation,"value",e.target.multiple?a:a[0])},t.changeEndAnimation]}},t._l(t.endAnimations,(function(e){return a("option",{domProps:{value:e.value}},[t._v(t._s(e.label))])})),0)]),a("div",{staticClass:"btn play-btn",on:{click:t.play}},[t._v("播放动画")])],2)},i=[],o=(a("7514"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"script-cell"},[a("div",{staticClass:"item"},[a("div",{staticClass:"sub-item"},[a("div",[t._v("人物：")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.model.value,expression:"formData.model.value"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData.model,"value",e.target.multiple?a:a[0])},t.changeModel]}},t._l(t.models,(function(e){return a("option",{domProps:{value:e.value}},[t._v(t._s(e.label))])})),0)]),a("div",{staticClass:"sub-item"},[a("div",[t._v("位置：")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.modelPosition,expression:"formData.modelPosition"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"modelPosition",e.target.multiple?a:a[0])},t.changeModel]}},t._l(t.modelPosition,(function(e){return a("option",{domProps:{value:e.value}},[t._v("\n                    "+t._s(e.label)+"\n                ")])})),0)])]),a("div",{staticClass:"item-area"},[t._l(t.formData.modelAnimations,(function(e,n){return[a("div",{key:n,staticClass:"item"},[a("div",{staticClass:"sub-item"},[a("div",[t._v("动作：")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.action,expression:"animation.action"}],on:{change:function(a){var n=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"action",a.target.multiple?n:n[0])}}},t._l(t.actions,(function(e){return a("option",{domProps:{value:e.value}},[t._v(t._s(e.label))])})),0)]),a("div",{staticClass:"sub-item"},[a("div",[t._v("行为：")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.behavior.value,expression:"animation.behavior.value"}],on:{change:[function(a){var n=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e.behavior,"value",a.target.multiple?n:n[0])},function(a){return t.changeBehavior(n,e.behavior.value)}]}},t._l(t.behavior,(function(e){return a("option",{domProps:{value:e.value}},[t._v("\n                            "+t._s(e.label)+"\n                        ")])})),0)]),a("div",{staticClass:"del-icon",on:{click:function(e){return t.delModelAnimation(n)}}},[t._v("x")])])]})),a("div",{staticClass:"btn",on:{click:t.addModelAnimation}},[t._v("添加动作和行为")])],2),a("div",{staticClass:"item"},[a("div",[t._v("说：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.text,expression:"formData.text"}],attrs:{type:"text",placeholder:"请输入要说的内容"},domProps:{value:t.formData.text},on:{input:function(e){e.target.composing||t.$set(t.formData,"text",e.target.value)}}})]),a("div",{staticClass:"del-item",on:{click:t.delItem}},[t._v("删除")])])}),l=[],r={name:"ScriptCell",props:{models:Array,modelPosition:Array},data:function(){return{actions:[{label:"跑",value:"run"},{label:"走",value:"walk"},{label:"站立",value:"idle"}],behavior:[{label:"从左到右",value:"LeftToRight",config:{startX:0,targetX:200,duration:2,delay:0}},{label:"原地",value:""}],formData:{text:null,model:{value:null},modelAnimations:[],modelPosition:null}}},watch:{formData:{deep:!0,handler:function(t){this.$emit("change",t)}}},methods:{addModelAnimation:function(){this.formData.modelAnimations.push({action:null,behavior:{value:null}})},delModelAnimation:function(t){this.formData.modelAnimations.splice(t,1)},changeModel:function(){var t=this,e=this.models.find((function(e){return e.value===t.formData.model.value}));e&&(this.formData.model=e)},changeBehavior:function(t,e){var a=this.behavior.find((function(t){return t.value===e}));a&&(this.formData.modelAnimations[t].behavior=a)},delItem:function(){this.$emit("delete")}}},s=r,u=(a("dd6c"),a("2877")),c=Object(u["a"])(s,o,l,!1,null,"e978d072",null),m=c.exports,d=a("c64e"),v=(a("6275"),{name:"Script",components:{ScriptCell:m},data:function(){return{models:[{label:"瘸腿",value:"瘸腿",id:d(),config:{x:0,y:0,width:200,height:200}},{label:"黄头发",value:"3",id:d(),config:{x:0,y:0,width:200,height:200}}],modelPosition:[],backgroundImages:[{label:"科幻",value:"https://sandbox-iyuyi-public.yaolantu.com/files/animate-bg.png"}],formData:{backgroundImage:null,endAnimation:{value:null},animations:[],items:[]},endAnimations:[{label:"转场",value:"FadeBlack",config:{duration:2,delay:0}}],animations:[{label:"聚焦",value:"Focus",config:{duration:2,delay:0,targetScale:2}}],animationValue:null}},mounted:function(){this.getModelPosition()},methods:{play:function(){this.$router.push("/animation?data=".concat(JSON.stringify(this.formData)))},changeEndAnimation:function(){var t=this,e=this.endAnimations.find((function(e){return e.value===t.formData.endAnimation.value}));e&&(this.formData.endAnimation=e)},addAnimation:function(){this.formData.animations.push({})},delAnimation:function(t){this.formData.animations.splice(t,1)},changeAnimation:function(t){var e=this,a=this.animations.find((function(a){return a.value===e.formData.animations[t].value}));a&&(this.formData.animations[t]=JSON.parse(JSON.stringify(a)))},addCell:function(){this.formData.items.push({})},delCell:function(t){this.formData.items.splice(t,1)},getCellInfo:function(t,e){this.formData.items[t]=e},getModelPosition:function(){for(var t=6,e=0;e<t;e++)this.modelPosition.push({label:"区域".concat(e+1),value:e})}}}),f=v,p=(a("7eba"),Object(u["a"])(f,n,i,!1,null,"2bfa145e",null));e["default"]=p.exports},7514:function(t,e,a){"use strict";var n=a("5ca1"),i=a("0a49")(5),o="find",l=!0;o in[]&&Array(1)[o]((function(){l=!1})),n(n.P+n.F*l,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(o)},"7eba":function(t,e,a){"use strict";a("121d")},8292:function(t,e,a){},c64e:function(t,e,a){var n=a("e1f4"),i=a("2366");function o(t,e,a){var o=e&&a||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null),t=t||{};var l=t.random||(t.rng||n)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,e)for(var r=0;r<16;++r)e[o+r]=l[r];return e||i(l)}t.exports=o},dd6c:function(t,e,a){"use strict";a("8292")},e1f4:function(t,e){var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(a){var n=new Uint8Array(16);t.exports=function(){return a(n),n}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}}}]);