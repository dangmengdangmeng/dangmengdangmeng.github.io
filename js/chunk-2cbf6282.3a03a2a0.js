(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cbf6282"],{"0293":function(t,e,n){var o=n("241e"),i=n("53e2");n("ce7e")("getPrototypeOf",(function(){return function(t){return i(o(t))}}))},"061b":function(t,e,n){t.exports=n("fa99")},"11e9":function(t,e,n){var o=n("52a7"),i=n("4630"),r=n("6821"),a=n("6a99"),c=n("69a8"),s=n("c69a"),u=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?u:function(t,e){if(t=r(t),e=a(e,!0),s)try{return u(t,e)}catch(n){}if(c(t,e))return i(!o.f.call(t,e),t[e])}},"11e93":function(t,e,n){"use strict";n("15b4")},"15b4":function(t,e,n){},"1c01":function(t,e,n){var o=n("5ca1");o(o.S+o.F*!n("9e1e"),"Object",{defineProperty:n("86cc").f})},"1df8":function(t,e,n){var o=n("63b6");o(o.S,"Object",{setPrototypeOf:n("ead6").set})},2397:function(t,e,n){var o=n("5ca1"),i=n("2aeb"),r=n("d8e8"),a=n("cb7c"),c=n("d3f4"),s=n("79e5"),u=n("f0c1"),f=(n("7726").Reflect||{}).construct,l=s((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),p=!s((function(){f((function(){}))}));o(o.S+o.F*(l||p),"Reflect",{construct:function(t,e){r(t),a(e);var n=arguments.length<3?t:r(arguments[2]);if(p&&!l)return f(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var o=[null];return o.push.apply(o,e),new(u.apply(t,o))}var s=n.prototype,d=i(c(s)?s:Object.prototype),h=Function.apply.call(t,d,e);return c(h)?h:d}})},"25b0":function(t,e,n){n("1df8"),t.exports=n("584a").Object.setPrototypeOf},"308d":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var o=n("5d58"),i=n.n(o),r=n("67bb"),a=n.n(r);function c(t){return c="function"===typeof a.a&&"symbol"===typeof i.a?function(t){return typeof t}:function(t){return t&&"function"===typeof a.a&&t.constructor===a.a&&t!==a.a.prototype?"symbol":typeof t},c(t)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){return!e||"object"!==c(e)&&"function"!==typeof e?s(t):e}},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"456d":function(t,e,n){var o=n("4bf8"),i=n("0d58");n("5eda")("keys",(function(){return function(t){return i(o(t))}}))},"4aa6":function(t,e,n){t.exports=n("dc62")},"4d16":function(t,e,n){t.exports=n("25b0")},"4e2b":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n("4aa6"),i=n.n(o),r=n("4d16"),a=n.n(r);function c(t,e){return c=a.a||function(t,e){return t.__proto__=e,t},c(t,e)}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=i()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}},"58b2":function(t,e,n){var o=n("5ca1");o(o.S+o.F*!n("9e1e"),"Object",{defineProperties:n("1495")})},"5d58":function(t,e,n){t.exports=n("d8d6")},"5eda":function(t,e,n){var o=n("5ca1"),i=n("8378"),r=n("79e5");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),o(o.S+o.F*r((function(){n(1)})),"Object",a)}},"6b54":function(t,e,n){"use strict";n("3846");var o=n("cb7c"),i=n("0bfb"),r=n("9e1e"),a="toString",c=/./[a],s=function(t){n("2aba")(RegExp.prototype,a,t,!0)};n("79e5")((function(){return"/a/b"!=c.call({source:"a",flags:"b"})}))?s((function(){var t=o(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?i.call(t):void 0)})):c.name!=a&&s((function(){return c.call(this)}))},"6bb5":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var o=n("061b"),i=n.n(o),r=n("4d16"),a=n.n(r);function c(t){return c=a.a?i.a:function(t){return t.__proto__||i()(t)},c(t)}},"87b3":function(t,e,n){var o=Date.prototype,i="Invalid Date",r="toString",a=o[r],c=o.getTime;new Date(NaN)+""!=i&&n("2aba")(o,r,(function(){var t=c.call(this);return t===t?a.call(this):i}))},"8e6e":function(t,e,n){var o=n("5ca1"),i=n("990b"),r=n("6821"),a=n("11e9"),c=n("f1ae");o(o.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,o=r(t),s=a.f,u=i(o),f={},l=0;while(u.length>l)n=s(o,e=u[l++]),void 0!==n&&c(f,e,n);return f}})},9093:function(t,e,n){var o=n("ce10"),i=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,i)}},9427:function(t,e,n){var o=n("63b6");o(o.S,"Object",{create:n("a159")})},"990b":function(t,e,n){var o=n("9093"),i=n("2621"),r=n("cb7c"),a=n("7726").Reflect;t.exports=a&&a.ownKeys||function(t){var e=o.f(r(t)),n=i.f;return n?e.concat(n(t)):e}},b4c3:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"test"},[t.showPreload?n("preload-resource",{attrs:{items:t.preloadResource},on:{finished:t.preloadFinished}}):t._e(),t.showContent?n("div",{ref:"testContent",staticClass:"content"},[n("img",{staticClass:"background-image",attrs:{src:this.animationData.backgroundImage,alt:"img"}})]):t._e(),t.isEnd?n("end-page"):t._e()],1)},i=[],r=(n("1c01"),n("58b2"),n("8e6e"),n("f3e2"),n("d25f"),n("ac6a"),n("456d"),n("bd86")),a=(n("6d67"),n("5a0c")),c=n("6a62"),s=n("6275"),u=n("1cd4"),f=n("1310");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={name:"AnimateShow",components:{EndPage:c["a"],PreloadResource:a["a"]},data:function(){return{animationData:null,showPreload:!1,isEnd:!1,preloadResource:[],showContent:!1,modelFinished:!1,animationFinished:!1}},computed:{fragmentNum:function(){return this.fragments.length}},watch:{modelFinished:function(t){t&&this.playAnimation()},animationFinished:function(t){t&&this.playEndAnimation()}},mounted:function(){this.animationData=s["a"].parseJson(this.$route.query.data),this.preloadResource.push({type:"img",url:this.animationData.backgroundImage}),this.showPreload=!0,console.log(this.animationData)},methods:{startPlay:function(){var t=this;this.showContent=!0;var e=this.animationData.items;this.$nextTick((function(){e.map((function(e){t.createModel(e)}))}))},createModel:function(t){var e=this,n=this.$refs["testContent"],o=t.model,i=t.modelPosition,r=o.id,a=o.config,c=void 0===a?{}:a,f=o.value,l=this.getModelX(i),p=this.getModelY(i),d=c.width,h=c.height,b=s["a"].getMobileRatio(),y=b.widthRatio,v=b.heightRatio,g=document.createElement("div");g.id=r,g.classList.add("model-item"),g.style.width=d*y+"px",g.style.height=h*v+"px",g.style.left=l*y+"px",g.style.top=p*v+"px",g.style.fontSize=16*y+"px",g["ref"]="model_".concat(g.id),n.append(g);var m=new u["a"];m.changeSkin(f),m.load(g,(function(){e.playModelAnimation({ele:g,control:m,item:t})}))},playModelAnimation:function(t){var e=t.ele,n=t.control,o=t.item,i=this,r=o.modelAnimations,a=o.text,c=0;function s(){var t=r[c];if(t){var o=t.action,u=t.behavior;n.changeAction(o,!0),u&&u.value?f["a"].playAnimate(u.value,p(p({},u.config),{},{element:e,callback:function(){c++,s()}})):(c++,s())}else{if(a){var l=document.createElement("div");l.innerHTML=a,l.classList.add("text-dialog"),e.append(l)}i.modelFinished=!0}}s()},playAnimation:function(){var t=this.animationData.animations,e=void 0===t?[]:t,n=this.$refs["testContent"],o=this,i=0;function r(){var t=e[i];if(t){var a=t.targetId,c=t.config,s=t.value;if("Focus"===s){var u=document.getElementById(a),l=u.offsetLeft+u.offsetWidth/2+"px",d=u.offsetTop+u.offsetHeight/2+"px";console.log(a,l,d),f["a"].playAnimate(s,p(p({},c),{},{element:n,origin:"".concat(l," ").concat(d),callback:function(){i++,r()}}))}else i++,r()}else o.animationFinished=!0,console.log("中场动画结束")}r()},playEndAnimation:function(){var t=this,e=this.animationData.endAnimation,n=void 0===e?{}:e;if(n){var o=n.value,i=n.config,r=this.$refs["testContent"],a=document.createElement("div");a.style.width="100%",a.style.height="100%",a.style.position="fixed",a.style.left="0",a.style.top="0",a.style.zIndex="999",a.style.background="transparent",r.appendChild(a),o&&f["a"].playAnimate(o,p(p({element:a},i),{},{callback:function(){t.stopPlay()}}))}else this.stopPlay()},stopPlay:function(){this.isEnd=!0,console.log("这一集播放完成")},preloadFinished:function(){this.showPreload=!1,this.startPlay()},getModelX:function(t){return t<3?window.innerWidth/3*t:t>=3?(t-=3,window.innerWidth/3*t):void 0},getModelY:function(t){return t<3?window.innerHeight/2*0:t>=3?window.innerHeight/2*1:void 0}}},h=d,b=(n("11e93"),n("2877")),y=Object(b["a"])(h,o,i,!1,null,"18236d66",null);e["default"]=y.exports},ce7e:function(t,e,n){var o=n("63b6"),i=n("584a"),r=n("294c");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),o(o.S+o.F*r((function(){n(1)})),"Object",a)}},d8d6:function(t,e,n){n("1654"),n("6c1c"),t.exports=n("ccb9").f("iterator")},dc62:function(t,e,n){n("9427");var o=n("584a").Object;t.exports=function(t,e){return o.create(t,e)}},ead6:function(t,e,n){var o=n("f772"),i=n("e4ae"),r=function(t,e){if(i(t),!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,o){try{o=n("d864")(Function.call,n("bf0b").f(Object.prototype,"__proto__").set,2),o(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return r(t,n),e?t.__proto__=n:o(t,n),t}}({},!1):void 0),check:r}},f0c1:function(t,e,n){"use strict";var o=n("d8e8"),i=n("d3f4"),r=n("31f4"),a=[].slice,c={},s=function(t,e,n){if(!(e in c)){for(var o=[],i=0;i<e;i++)o[i]="a["+i+"]";c[e]=Function("F,a","return new F("+o.join(",")+")")}return c[e](t,n)};t.exports=Function.bind||function(t){var e=o(this),n=a.call(arguments,1),c=function(){var o=n.concat(a.call(arguments));return this instanceof c?s(e,o.length,o):r(e,o,t)};return i(e.prototype)&&(c.prototype=e.prototype),c}},f1ae:function(t,e,n){"use strict";var o=n("86cc"),i=n("4630");t.exports=function(t,e,n){e in t?o.f(t,e,i(0,n)):t[e]=n}},fa99:function(t,e,n){n("0293"),t.exports=n("584a").Object.getPrototypeOf}}]);