{"version":3,"sources":["webpack:///./src/page/demo.vue","webpack:///./src/page/demo.vue?fbf7","webpack:///./src/page/demo.vue?4ff7","webpack:///./src/assets/images/drag/resize.png","webpack:///./src/assets/images/drag/close.png","webpack:///./src/assets/images/drag/rotate.png"],"names":["page_demo","data","drag_list","w","h","x","y","draggable","rotate","show","show_control","cur_drag","p_x","p_y","methods","get_drag_idx","idx","i","this","onstart","e","target","offsetWidth","toFixed","offsetHeight","changedTouches","clientX","clientY","onmove","getAngle","onend","mx","my","_this","px","py","Math","abs","cos","sqrt","pow","radina","acos","angle","floor","PI","$nextTick","onDrag","onResize","close_drag","index","console","log","selectortype_template_index_0_src_page_demo","render","_vm","_h","$createElement","_c","_self","staticClass","_l","item","key","class","style","transform","attrs","class-name-handle","handles","parent","on","dragging","resizing","src","__webpack_require__","click","$event","_e","_v","touchstart","touchmove","touchend","slot","alt","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","module","exports","p"],"mappings":"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","file":"static/js/8.e80bb07a49b1c372ba47.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      drag_list: [\r\n        {\r\n          w: 100,\r\n          h: 100,\r\n          x: 25,\r\n          y: 25,\r\n          draggable: true,\r\n          rotate: 0,\r\n          show: true,\r\n          show_control: false\r\n        },\r\n        {\r\n          w: 100,\r\n          h: 100,\r\n          x: 225,\r\n          y: 225,\r\n          draggable: true,\r\n          rotate: 0,\r\n          show: true,\r\n          show_control: false\r\n        }\r\n      ],\r\n      cur_drag: 0,\r\n      p_x: 0,\r\n      p_y: 0\r\n    };\r\n  },\r\n  methods: {\r\n    get_drag_idx(idx) {\r\n      for (var i in this.drag_list) {\r\n        this.drag_list[i].show_control = false;\r\n      }\r\n      this.drag_list[idx].show_control = true;\r\n      this.cur_drag = idx;\r\n    },\r\n    onstart(e) {\r\n      this.drag_list[this.cur_drag].draggable = false;\r\n      var w = (e.target.offsetWidth / 2).toFixed(0);\r\n      var h = (e.target.offsetHeight / 2).toFixed(0);\r\n      this.p_x = e.changedTouches[0].clientX + 10;\r\n      this.p_y = e.changedTouches[0].clientY + 10;\r\n    },\r\n    onmove(e) {\r\n      this.getAngle(e.changedTouches[0].clientX, e.changedTouches[0].clientY);\r\n    },\r\n    onend() {\r\n      this.drag_list[this.cur_drag].draggable = true;\r\n    },\r\n    getAngle(mx, my) {\r\n      var px = this.p_x;\r\n      var py = this.p_y;\r\n      var x = Math.abs(px - mx);\r\n      var y = Math.abs(py - my);\r\n      var z = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\r\n      var cos = y / z;\r\n      var radina = Math.acos(cos); //用反三角函数求弧度\r\n      var angle = Math.floor(180 / (Math.PI / radina)); //将弧度转换成角度\r\n      if (mx > px && my > py) {\r\n        //鼠标在第四象限\r\n        angle = 180 - angle;\r\n      }\r\n      if (mx == px && my > py) {\r\n        //鼠标在y轴负方向上\r\n        angle = 180;\r\n      }\r\n      if (mx > px && my == py) {\r\n        //鼠标在x轴正方向上\r\n        angle = 90;\r\n      }\r\n      if (mx < px && my > py) {\r\n        //鼠标在第三象限\r\n        angle = 180 + angle;\r\n      }\r\n      if (mx < px && my == py) {\r\n        //鼠标在x轴负方向\r\n        angle = 270;\r\n      }\r\n      if (mx < px && my < py) {\r\n        //鼠标在第二象限\r\n        angle = 360 - angle;\r\n      }\r\n      this.$nextTick(() => {\r\n        this.drag_list[this.cur_drag].rotate = angle;\r\n      });\r\n    },\r\n    //   移动触发\r\n    onDrag(x, y) {\r\n      this.drag_list[this.cur_drag].x = x;\r\n      this.drag_list[this.cur_drag].y = y;\r\n    },\r\n    //放大缩小时 触发\r\n    onResize(x, y, w, h) {\r\n      this.drag_list[this.cur_drag].x = x;\r\n      this.drag_list[this.cur_drag].y = y;\r\n      this.drag_list[this.cur_drag].w = w;\r\n      this.drag_list[this.cur_drag].h = h;\r\n    },\r\n    close_drag(index) {\r\n      this.drag_list[index].show = false;\r\n      console.log(this.drag_list[index]);\r\n    }\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/page/demo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page_box\"},_vm._l((_vm.drag_list),function(item,index){return _c('drag_resize',{key:index,class:[item.show?'d_block':'d_none','resize'+index ],style:({'transform':'rotate('+item.rotate+'deg)'}),attrs:{\"class-name-handle\":\"resize_item\",\"handles\":['br'],\"w\":item.w,\"h\":item.h,\"x\":item.x,\"y\":item.y,\"draggable\":item.draggable,\"parent\":true},on:{\"dragging\":_vm.onDrag,\"resizing\":_vm.onResize}},[(item.show_control)?_c('img',{staticClass:\"w50 close_drag_item\",attrs:{\"src\":require(\"@/assets/images/drag/close.png\")},on:{\"click\":function($event){return _vm.close_drag(index)}}}):_vm._e(),_vm._v(\" \"),(item.show_control)?_c('div',{staticClass:\"w50 close_drag_item rotate_drag_item size0\",on:{\"touchstart\":function($event){return _vm.get_drag_idx(index)}}},[_c('img',{staticClass:\"w_100\",attrs:{\"src\":require(\"@/assets/images/drag/rotate.png\")},on:{\"touchstart\":_vm.onstart,\"touchmove\":_vm.onmove,\"touchend\":_vm.onend}})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"w_100 h_100 drag_mask_box\",on:{\"touchstart\":function($event){return _vm.get_drag_idx(index)}}}),_vm._v(\" \"),(item.show_control)?_c('div',{attrs:{\"slot\":\"br\"},slot:\"br\"},[_c('img',{staticClass:\"w50\",attrs:{\"src\":require(\"@/assets/images/drag/resize.png\"),\"alt\":\"\"}})]):_vm._e()])}),1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-be5306c8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/page/demo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-be5306c8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./demo.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./demo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./demo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-be5306c8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./demo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/demo.vue\n// module id = null\n// module chunks = ","module.exports = __webpack_public_path__ + \"static/img/resize.2bb9444.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/drag/resize.png\n// module id = E21T\n// module chunks = 8","module.exports = __webpack_public_path__ + \"static/img/close.b986d60.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/drag/close.png\n// module id = pErC\n// module chunks = 8","module.exports = __webpack_public_path__ + \"static/img/rotate.9d03c5e.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/drag/rotate.png\n// module id = vFRA\n// module chunks = 8"],"sourceRoot":""}