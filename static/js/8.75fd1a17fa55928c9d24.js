webpackJsonp([8],{"8p6N":function(t,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={data:function(){return{drag_list:[{w:100,h:100,x:25,y:25,draggable:!1,rotate:0,show:!0,show_control:!1},{w:100,h:100,x:225,y:225,draggable:!1,rotate:0,show:!0,show_control:!1}],cur_drag:0,p_x:0,p_y:0}},methods:{get_drag_idx:function(t){for(var s in this.cur_drag=t,this.drag_list[t].draggable=!0,this.drag_list)this.drag_list[s].show_control=!1;this.drag_list[t].show_control=!0},onstart:function(t){var s=t.target.offsetParent.offsetParent.className.split(" "),r=s[s.length-1].replace(/resize/,"");this.drag_list[r].draggable=!1,this.cur_drag=r,console.log(r,this.drag_list[r].draggable);(t.target.offsetWidth/2).toFixed(0),(t.target.offsetHeight/2).toFixed(0);this.p_x=t.changedTouches[0].clientX,this.p_y=t.changedTouches[0].clientY},onmove:function(t){this.getAngle(t.changedTouches[0].clientX,t.changedTouches[0].clientY)},onend:function(){this.drag_list[this.cur_drag].draggable=!0},getAngle:function(t,s){var r=this,a=this.p_x,e=this.p_y,i=Math.abs(a-t),o=Math.abs(e-s),n=o/Math.sqrt(Math.pow(i,2)+Math.pow(o,2)),c=Math.acos(n),g=Math.floor(180/(Math.PI/c));t>a&&s>e&&(g=180-g),t==a&&s>e&&(g=180),t>a&&s==e&&(g=90),t<a&&s>e&&(g=180+g),t<a&&s==e&&(g=270),t<a&&s<e&&(g=360-g),this.$nextTick(function(){r.drag_list[r.cur_drag].rotate=g-20})},onDrag:function(t,s){this.drag_list[this.cur_drag].x=t,this.drag_list[this.cur_drag].y=s},onResize:function(t,s,r,a){this.drag_list[this.cur_drag].x=t,this.drag_list[this.cur_drag].y=s,this.drag_list[this.cur_drag].w=r,this.drag_list[this.cur_drag].h=a},close_drag:function(t){this.drag_list[t].show=!1,console.log(this.drag_list[t])}}},e={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"page_box"},t._l(t.drag_list,function(s,e){return a("drag_resize",{key:e,class:[s.show?"d_block":"d_none","resize"+e],style:{transform:"rotate("+s.rotate+"deg)"},attrs:{"class-name-handle":"resize_item",handles:["br"],w:s.w,h:s.h,x:s.x,y:s.y,draggable:s.draggable,parent:!0},on:{dragging:t.onDrag,resizing:t.onResize}},[s.show_control?a("img",{staticClass:"w50 close_drag_item",attrs:{src:r("pErC")},on:{click:function(s){return t.close_drag(e)}}}):t._e(),t._v(" "),s.show_control?a("div",{staticClass:"w50 close_drag_item rotate_drag_item size0"},[a("img",{staticClass:"w_100",attrs:{src:r("vFRA")},on:{touchstart:function(s){return s.stopPropagation(),t.onstart(s)},touchmove:function(s){return s.stopPropagation(),t.onmove(s)},touchend:function(s){return s.stopPropagation(),t.onend(s)}}})]):t._e(),t._v(" "),a("div",{staticClass:"w_100 h_100 drag_mask_box",on:{touchstart:function(s){return t.get_drag_idx(e)}}}),t._v(" "),s.show_control?a("div",{attrs:{slot:"br"},slot:"br"},[a("img",{staticClass:"w50",attrs:{src:r("E21T"),alt:""}})]):t._e()])}),1)},staticRenderFns:[]};var i=r("C7Lr")(a,e,!1,function(t){r("jWQC")},null,null);s.default=i.exports},E21T:function(t,s,r){t.exports=r.p+"static/img/resize.2bb9444.png"},jWQC:function(t,s){},pErC:function(t,s,r){t.exports=r.p+"static/img/close.b986d60.png"},vFRA:function(t,s,r){t.exports=r.p+"static/img/rotate.9d03c5e.png"}});
//# sourceMappingURL=8.75fd1a17fa55928c9d24.js.map