<template name="a2096df2">
  <view class="_div data-v-0029b3be make_poster_page size0 {{[step == 2 ? 'pb200' : '']}}">
    <view wx:if="{{step==1}}" class="_div data-v-0029b3be">
      <image class="_img data-v-0029b3be top_bg" src="{{img_baseUrl+'/2/ysl/images/p3/upload/top_bg.png'}}" mode="aspectFit"></image>
      <image class="_img data-v-0029b3be top_tit m_center" src="{{img_baseUrl+'/2/ysl/images/p3/upload/page_tit.png'}}" mode="aspectFit"></image>
      <view class="_div data-v-0029b3be upload_box w_80 size15" bindtap="handleProxy" data-eventid="{{'0'}}" data-comkey="{{$k}}" style=" {{('height:' + (show_bottom ? '480rpx' : '800rpx') + ';')}}">
        <view class="_div data-v-0029b3be">点击上传照片</view>
      </view>
    </view>
    <image wx:if="{{step==1}}" class="_img data-v-0029b3be bottom_bg" src="{{img_baseUrl+'/2/ysl/images/p3/upload/bottom_bg.png'}}" mode="aspectFit"></image>
    <view wx:if="{{step==2}}" class="_div data-v-0029b3be">
      <view class="_div data-v-0029b3be upload_after_box pt10 m_center w_95 size0">
        <image class="_img data-v-0029b3be w_100" src="{{upload_img}}" alt="上传" mode="widthFix"></image>
        <view class="_div data-v-0029b3be imgWrap {{[item.active ? 'touchActive' : '']}}" wx:key="index" key="{{index}}" catchtouchmove="true" wx:for="{{list}}" wx:for-index="index" wx:for-item="item" style=" {{(  'top:' +  (item.top + 'px') +  ';' +  'left:' +  (item.left + 'px') +  ';' +  'width:' +  (item.width + 'px') +  ';' +  'height:' +  (item.height + 'px') +  ';' +  'transform:' +  (' scale(' + item.scale + ')') +  ';' +  'border-color:' +  (item.active ? '#fff' : 'transparent') +  ';')}}">
          <image class="_img data-v-0029b3be sticker_img_item" src="{{item.image}}" data-id="{{item.id}}" bindtouchstart="handleProxy" bindtouchmove="handleProxy" bindtouchend="handleProxy" data-eventid="{{'1_'+index}}" data-comkey="{{$k}}"></image>
          <image class="_img data-v-0029b3be x" src="{{img_baseUrl+'/2/ysl/images/p3/upload_after/close_.png'}}" style="transform-origin:center; {{('transform:' + ('scale(' + item.oScale + ')') + ';')}}" bindtap="handleProxy" data-eventid="{{'2_'+index}}" data-comkey="{{$k}}"></image>
          <image class="_img data-v-0029b3be o" src="{{img_baseUrl+'/2/ysl/images/p3/upload_after/scale.png'}}" style="transform-origin:center; {{('transform:' + ('scale(' + item.oScale + ')') + ';')}}" bindtouchstart="handleProxy" bindtouchmove="handleProxy" data-eventid="{{'3_'+index}}" data-comkey="{{$k}}"></image>
        </view>
      </view>
      <view class="_div data-v-0029b3be sticker_box bg_white w_90 p10_15">
        <scroll-view class="_scroll-view data-v-0029b3be sticker_sele_box" scroll-x style="width:100%;height:17.2vw;">
          <view class="_div data-v-0029b3be sticker_item" bindtap="handleProxy" data-eventid="{{'4'}}" data-comkey="{{$k}}">
            <image src="{{img_baseUrl+'/2/ysl/images/p3/page_sticker_img1.jpg'}}" alt class="_img data-v-0029b3be"></image>
          </view>
          <view class="_div data-v-0029b3be sticker_item" bindtap="handleProxy" data-eventid="{{'5'}}" data-comkey="{{$k}}">
            <image src="{{img_baseUrl+'/2/ysl/images/p3/page_sticker_img2.jpg'}}" alt class="_img data-v-0029b3be"></image>
          </view>
          <view class="_div data-v-0029b3be sticker_item" bindtap="handleProxy" data-eventid="{{'6'}}" data-comkey="{{$k}}">
            <image src="{{img_baseUrl+'/2/ysl/images/p3/page_sticker_img3.jpg'}}" alt class="_img data-v-0029b3be"></image>
          </view>
          <view class="_div data-v-0029b3be sticker_item" bindtap="handleProxy" data-eventid="{{'7'}}" data-comkey="{{$k}}">
            <image src="{{img_baseUrl+'/2/ysl/images/p3/page_sticker_img4.jpg'}}" alt class="_img data-v-0029b3be"></image>
          </view>
          <view class="_div data-v-0029b3be sticker_item" bindtap="handleProxy" data-eventid="{{'8'}}" data-comkey="{{$k}}">
            <image src="{{img_baseUrl+'/2/ysl/images/p3/page_sticker_img5.jpg'}}" alt class="_img data-v-0029b3be"></image>
          </view>
        </scroll-view>
        <view class="_div data-v-0029b3be flex_space_between mt20">
          <image class="_img data-v-0029b3be sticker_img w20 h20" src="{{img_baseUrl+'/2/ysl/images/p3/upload_after/close_sticker.png'}}" mode="aspectFit" bindtap="handleProxy" data-eventid="{{'9'}}" data-comkey="{{$k}}"></image>
          <view class="_div data-v-0029b3be">贴纸</view>
          <image class="_img data-v-0029b3be sticker_img w20 h20" src="{{img_baseUrl+'/2/ysl/images/p3/upload_after/send_sticker.png'}}" mode="aspectFit" bindtap="handleProxy" data-eventid="{{'10'}}" data-comkey="{{$k}}"></image>
        </view>
      </view>
    </view>
    <view wx:if="{{step==3}}" class="_div data-v-0029b3be">
      <view class="_div data-v-0029b3be w_95 m_center pt10">
        <image src="{{upload_img}}" class="_img data-v-0029b3be w_100" mode="widthFix"></image>
        <view class="_div data-v-0029b3be imgWrap" wx:key="index" key="{{index}}" wx:for="{{list}}" wx:for-index="index" wx:for-item="item" style=" {{(  'width:' +  (item.width + 'px') +  ';' +  'height:' +  (item.height + 'px') +  ';' +  'transform:' +  ('scale(' + item.scale + ')') +  ';' +  'top:' +  (item.top + 'px') +  ';' +  'left:' +  (item.left + 'px') +  ';')}}">
          <image class="_img data-v-0029b3be sticker_img_item" src="{{item.image}}"></image>
        </view>
      </view>
      <view class="_div data-v-0029b3be bottom_sele_text w_100 pb20">
        <view class="_div data-v-0029b3be select_text_box w_80 size15"><textarea class="_textarea data-v-0029b3be textarea_" wx:if="{{show_textarea}}" placeholder="请输入宣言" fixed="{{show_textarea?true:false}}" bindinput="handleProxy" data-eventid="{{'11'}}" data-comkey="{{$k}}" /> <view class="_div data-v-0029b3be picker_box flex" wx:if="{{!show_textarea&&!show_picker_val}}"><picker bindchange="handleProxy" class="_picker data-v-0029b3be w_100 h100" range="{{picker_list}}" data-eventid="{{'12'}}" data-comkey="{{$k}}"><view class="_div data-v-0029b3be w_100 h100 t_center" style="line-height:200rpx">选择拉票宣言或点击输入宣言</view></picker></view> <picker bindchange="handleProxy" wx:if="{{show_picker_val}}" range="{{picker_list}}" data-eventid="{{'13'}}" data-comkey="{{$k}}" class="_picker data-v-0029b3be"><label class="_span data-v-0029b3be">{{picker_sele}}</label></picker></view> <view class="_div data-v-0029b3be sele_picker t_center" wx:if="{{show_textarea}}"><picker bindchange="handleProxy" range="{{picker_list}}" data-eventid="{{'14'}}" data-comkey="{{$k}}" class="_picker data-v-0029b3be">选择拉票宣言</picker></view> <image class="_img data-v-0029b3be create_poster_btn" src="{{img_baseUrl+'/2/ysl/images/p3/upload/make_post.png'}}" mode="aspectFit" bindtap="handleProxy" data-eventid="{{'15'}}" data-comkey="{{$k}}"></image></view></view> <canvas canvas-id="upload_img111" class="_canvas data-v-0029b3be canvas_box" style=" {{('width:' + '100vw' + ';' + 'height:' + canvas_h + ';')}}"></canvas></view></template>